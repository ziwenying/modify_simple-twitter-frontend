{"version":3,"sources":["webpack:///./src/views/AdminTweets.vue?0349","webpack:///./src/components/AdminTweetsList.vue?2f21","webpack:///./src/views/AdminTweets.vue?8b08","webpack:///./src/components/AdminTweetsList.vue?a630","webpack:///./src/components/AdminTweetsList.vue?acef","webpack:///./src/apis/admin.js","webpack:///./src/views/AdminTweets.vue?bba9","webpack:///./src/views/AdminTweets.vue","webpack:///./src/components/AdminTweetsList.vue","webpack:///src/components/AdminTweetsList.vue","webpack:///./src/components/AdminTweetsList.vue?64fe","webpack:///./src/components/AdminTweetsList.vue?6105","webpack:///src/views/AdminTweets.vue","webpack:///./src/views/AdminTweets.vue?1aff","webpack:///./src/views/AdminTweets.vue?16be"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","tweets","get","apiHelper","delete","tweetId","users","render","_vm","this","_c","_self","ref","staticClass","attrs","$route","name","require","on","logout","_v","class","fullWidth","isLoading","showTenTweets","afterTweetDelete","staticRenderFns","_l","initialTweets","tweet","key","id","_f","User","avatar","_s","account","createdAt","description","$event","preventDefault","stopPropagation","handleDeleteBtnClick","mixins","props","type","required","methods","data","Toast","icon","title","console","filters","onlyDisplay50Letters","component","components","Navbar","AdminTweetsList","Spinner","computed","role","pushIndex","loading","created","mounted","window","listScroll","destroyed","loadMore","setTimeout"],"mappings":"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","file":"js/chunk-f1e1d3ec.d605dc6f.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap);\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap);\"]);\n// Module\nexports.push([module.id, \"body[data-v-aeb3a17e]{margin:0;padding:0;font-family:Noto Sans TC,sans-serif}*[data-v-aeb3a17e]{box-sizing:border-box}h1[data-v-aeb3a17e],h2[data-v-aeb3a17e],h3[data-v-aeb3a17e],h4[data-v-aeb3a17e],h5[data-v-aeb3a17e],h6[data-v-aeb3a17e],p[data-v-aeb3a17e]{margin:0;padding:0}h1[data-v-aeb3a17e],h2[data-v-aeb3a17e]{font-weight:700}h3[data-v-aeb3a17e],h4[data-v-aeb3a17e],h5[data-v-aeb3a17e]{font-weight:medium}h1[data-v-aeb3a17e]{font-size:68px}h2[data-v-aeb3a17e]{font-size:42px}h3[data-v-aeb3a17e]{font-size:28px}h4[data-v-aeb3a17e]{font-size:24px}h5[data-v-aeb3a17e]{font-size:18px}li[data-v-aeb3a17e],ol[data-v-aeb3a17e],ul[data-v-aeb3a17e]{list-style:none;margin:0;padding:0}a[data-v-aeb3a17e],a[data-v-aeb3a17e]:focus,a[data-v-aeb3a17e]:hover{text-decoration:none}img[data-v-aeb3a17e]{width:100%;height:100%;display:block}.btn[data-v-aeb3a17e],a[data-v-aeb3a17e]:focus,button[data-v-aeb3a17e],button[data-v-aeb3a17e]:focus,input[data-v-aeb3a17e]:focus,select[data-v-aeb3a17e],select[data-v-aeb3a17e]:focus,textarea[data-v-aeb3a17e]:focus{outline:0!important}button[data-v-aeb3a17e]{background-color:transparent;border:0;cursor:pointer}button[disabled][data-v-aeb3a17e]{pointer-events:none}input[data-v-aeb3a17e]{padding:0}input[data-v-aeb3a17e]:invalid,input[data-v-aeb3a17e]:required{box-shadow:none}.d-none[data-v-aeb3a17e]{display:none}.scrollbar[data-v-aeb3a17e]::-webkit-scrollbar{width:1px}.admin-tweets-wrapper[data-v-aeb3a17e]{overflow-y:scroll;max-height:914px}.admin-tweets-wrapper .admin-nav-wrapper[data-v-aeb3a17e]{display:flex;justify-content:space-around;align-items:center;position:sticky;top:0;width:100%;height:52px;background:#fff;z-index:1}.admin-tweets-wrapper .admin-nav-wrapper img[data-v-aeb3a17e]{width:24px;height:24px}.admin-tweets-wrapper .admin-nav-wrapper .logout-btn[data-v-aeb3a17e]:hover{color:#0062ff;text-decoration:underline}.admin-tweets-wrapper .spinner[data-v-aeb3a17e]{width:100%}@media screen and (min-width:575px){.admin-tweets-wrapper .admin-nav-wrapper[data-v-aeb3a17e]{display:none}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetsList.vue?vue&type=style&index=0&id=d2fbb25c&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweets.vue?vue&type=style&index=0&id=aeb3a17e&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetsList.vue?vue&type=style&index=0&id=d2fbb25c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"51506889\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap);\"]);\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap);\"]);\n// Module\nexports.push([module.id, \"body[data-v-d2fbb25c]{margin:0;padding:0;font-family:Noto Sans TC,sans-serif}*[data-v-d2fbb25c]{box-sizing:border-box}h1[data-v-d2fbb25c],h2[data-v-d2fbb25c],h3[data-v-d2fbb25c],h4[data-v-d2fbb25c],h5[data-v-d2fbb25c],h6[data-v-d2fbb25c],p[data-v-d2fbb25c]{margin:0;padding:0}h1[data-v-d2fbb25c],h2[data-v-d2fbb25c]{font-weight:700}h3[data-v-d2fbb25c],h4[data-v-d2fbb25c],h5[data-v-d2fbb25c]{font-weight:medium}h1[data-v-d2fbb25c]{font-size:68px}h2[data-v-d2fbb25c]{font-size:42px}h3[data-v-d2fbb25c]{font-size:28px}h4[data-v-d2fbb25c]{font-size:24px}h5[data-v-d2fbb25c]{font-size:18px}li[data-v-d2fbb25c],ol[data-v-d2fbb25c],ul[data-v-d2fbb25c]{list-style:none;margin:0;padding:0}a[data-v-d2fbb25c],a[data-v-d2fbb25c]:focus,a[data-v-d2fbb25c]:hover{text-decoration:none}img[data-v-d2fbb25c]{width:100%;height:100%;display:block}.btn[data-v-d2fbb25c],a[data-v-d2fbb25c]:focus,button[data-v-d2fbb25c],button[data-v-d2fbb25c]:focus,input[data-v-d2fbb25c]:focus,select[data-v-d2fbb25c],select[data-v-d2fbb25c]:focus,textarea[data-v-d2fbb25c]:focus{outline:0!important}button[data-v-d2fbb25c]{background-color:transparent;border:0;cursor:pointer}button[disabled][data-v-d2fbb25c]{pointer-events:none}input[data-v-d2fbb25c]{padding:0}input[data-v-d2fbb25c]:invalid,input[data-v-d2fbb25c]:required{box-shadow:none}.d-none[data-v-d2fbb25c]{display:none}.tweets-list[data-v-d2fbb25c]{width:100%;border-right:1px solid #e6ecf0;border-left:1px solid #e6ecf0;padding:0}.tweets-list .title[data-v-d2fbb25c]{font-size:24px;font-weight:700;color:#171725;padding-top:24px;padding-bottom:24px;padding-left:20px}.tweets-list .tweets[data-v-d2fbb25c]{display:flex;flex-direction:column;justify-content:center;border-top:1px solid #e6ecf0}.tweets-list .tweets .tweet[data-v-d2fbb25c]{display:flex;padding:16px 23px;position:relative;border-bottom:1px solid #e6ecf0}.tweets-list .tweets .tweet[data-v-d2fbb25c]:hover{background-color:#f1f1f5}.tweets-list .tweets .tweet .avatar[data-v-d2fbb25c]{height:50px;width:50px;border-radius:50%;margin-right:8px}.tweets-list .tweets .tweet .tweet-info[data-v-d2fbb25c]{display:flex;flex-direction:column}.tweets-list .tweets .tweet .tweet-info .tweet-detail>span[data-v-d2fbb25c]{font-size:16px;font-weight:700;color:#171725;margin-right:8px}.tweets-list .tweets .tweet .tweet-info .tweet-detail .account-created-time[data-v-d2fbb25c]{font-size:14px;font-weight:400;color:#6c757d}.tweets-list .tweets .tweet .tweet-info .tweet-text[data-v-d2fbb25c]{margin-right:0;margin-top:8px;padding-right:50px;color:#171725;font-size:16px;font-weight:400;overflow-wrap:anywhere}.tweets-list .tweets .tweet .delete-btn[data-v-d2fbb25c]{position:absolute;right:5%;top:30%;margin:5px;height:16px;width:16px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import { apiHelper } from \"../utils/helpers\";\n\nexport default {\n  tweets: {\n    get() {\n      return apiHelper.get('/tweets')\n    },\n    delete({ tweetId }) {\n      return apiHelper.delete(`/admin/tweets/${tweetId}`)\n    }\n  },\n  users: {\n    get() {\n      return apiHelper.get('/admin/users')\n    }\n  }\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweets.vue?vue&type=style&index=0&id=aeb3a17e&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"662ca296\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"infinite_list\",staticClass:\"admin-tweets-wrapper row scrollbar\",attrs:{\"id\":\"infinite-list\"}},[_c('div',{staticClass:\"admin-nav-wrapper\"},[_c('router-link',{staticClass:\"nav\",attrs:{\"to\":\"/admin/tweets\"}},[(_vm.$route.name === 'admin-tweets')?_c('img',{staticClass:\"home-icon\",attrs:{\"src\":require(\"@/assets/image/home-orange.png\"),\"alt\":\"home-icon\"}}):_c('img',{staticClass:\"home-icon\",attrs:{\"src\":require(\"@/assets/image/home.png\"),\"alt\":\"home-icon\"}})]),_c('router-link',{staticClass:\"nav\",attrs:{\"to\":\"/admin/users\"}},[(_vm.$route.name === 'admin-users')?_c('img',{staticClass:\"user-icon\",attrs:{\"src\":require(\"@/assets/image/user-orange.png\"),\"alt\":\"user-icon\"}}):_c('img',{staticClass:\"user-icon\",attrs:{\"src\":require(\"@/assets/image/user.png\"),\"alt\":\"user-icon\"}})]),_c('button',{staticClass:\"logout-btn\",on:{\"click\":_vm.logout}},[_vm._v(\"登出\")])],1),_c('Navbar',{staticClass:\"nav pl-0\",class:{ 'col-2': _vm.fullWidth > 574, 'd-none': _vm.fullWidth <= 574 }}),(_vm.isLoading)?_c('Spinner',{staticClass:\"spinner\",class:{ 'col-10': _vm.fullWidth > 574 }}):_c('AdminTweetsList',{staticClass:\"admin-tweets-list\",class:{ 'col-10': _vm.fullWidth > 574 },attrs:{\"initial-tweets\":_vm.showTenTweets},on:{\"after-delete-tweet\":_vm.afterTweetDelete}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tweets-list\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"推文清單\")]),_c('div',{staticClass:\"tweets\"},_vm._l((_vm.initialTweets),function(tweet){return _c('div',{key:tweet.id,staticClass:\"tweet\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(tweet.User.avatar),\"alt\":\"avatar\"}}),_c('div',{staticClass:\"tweet-info\"},[_c('div',{staticClass:\"tweet-detail\"},[_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(tweet.User.name))]),_c('span',{staticClass:\"account-created-time\"},[_vm._v(\"@\"+_vm._s(tweet.User.account)+\"·\"+_vm._s(_vm._f(\"fromNow\")(tweet.createdAt)))])]),_c('p',{staticClass:\"tweet-text\"},[_vm._v(\" \"+_vm._s(_vm._f(\"onlyDisplay50Letters\")(tweet.description))+\" \")])]),_c('button',{staticClass:\"delete-btn\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleDeleteBtnClick(tweet.id)}}},[_vm._v(\" ✕ \")])])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n  <div class=\"tweets-list\">\r\n    <h4 class=\"title\">推文清單</h4>\r\n    <div class=\"tweets\">\r\n      <div class=\"tweet\" v-for=\"tweet in initialTweets\" :key=\"tweet.id\">\r\n        <img\r\n          class=\"avatar\"\r\n          :src=\"tweet.User.avatar | emptyImage\"\r\n          alt=\"avatar\"\r\n        />\r\n        <div class=\"tweet-info\">\r\n          <div class=\"tweet-detail\">\r\n            <span class=\"user-name\">{{ tweet.User.name }}</span>\r\n            <span class=\"account-created-time\"\r\n              >@{{ tweet.User.account }}&#xb7;{{\r\n                tweet.createdAt | fromNow\r\n              }}</span\r\n            >\r\n          </div>\r\n          <p class=\"tweet-text\">\r\n            {{ tweet.description | onlyDisplay50Letters }}\r\n          </p>\r\n        </div>\r\n        <button\r\n          class=\"delete-btn\"\r\n          @click.prevent.stop=\"handleDeleteBtnClick(tweet.id)\"\r\n        >\r\n          ✕\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fromNowFilter } from \"./../utils/mixins\";\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport adminAPI from \"./../apis/admin\";\r\n\r\nexport default {\r\n  name: \"AdminTweetsList\",\r\n  mixins: [fromNowFilter, emptyImageFilter],\r\n  props: {\r\n    initialTweets: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  methods: {\r\n    async handleDeleteBtnClick(tweetId) {\r\n      try {\r\n        // 發送API請伺服器刪掉這則tweet\r\n        const { data } = await adminAPI.tweets.delete({ tweetId });\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n        // 告訴父元件哪一條tweet被刪掉\r\n        this.$emit(\"after-delete-tweet\", tweetId);\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"推文刪除成功\",\r\n        });\r\n      } catch (error) {\r\n        console.error(error.message);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法刪除此推文，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  filters: {\r\n    onlyDisplay50Letters(string) {\r\n      return string.length > 50 ? string.slice(0, 50) + \"...\" : string;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./../assets/application.scss\";\r\n.tweets-list {\r\n  width: 100%;\r\n  border-right: 1px solid $light-blue2;\r\n  border-left: 1px solid $light-blue2;\r\n  padding: 0;\r\n  .title {\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    color: $black;\r\n    padding-top: 24px;\r\n    padding-bottom: 24px;\r\n    padding-left: 20px;\r\n  }\r\n  .tweets {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    border-top: 1px solid $light-blue2;\r\n\r\n    .tweet {\r\n      display: flex;\r\n      padding: 16px 23px;\r\n      position: relative;\r\n      border-bottom: 1px solid $light-blue2;\r\n      &:hover {\r\n        background-color: $gray-white3;\r\n      }\r\n      .avatar {\r\n        height: 50px;\r\n        width: 50px;\r\n        border-radius: 50%;\r\n        margin-right: 8px;\r\n      }\r\n      .tweet-info {\r\n        display: flex;\r\n        flex-direction: column;\r\n        .tweet-detail {\r\n          > span {\r\n            font-size: 16px;\r\n            font-weight: 700;\r\n            color: $black;\r\n            margin-right: 8px;\r\n          }\r\n          .account-created-time {\r\n            font-size: 14px;\r\n            font-weight: 400;\r\n            color: $gray4;\r\n          }\r\n        }\r\n        .tweet-text {\r\n          margin-right: 0;\r\n          margin-top: 8px;\r\n          padding-right: 50px;\r\n          color: $black;\r\n          font-size: 16px;\r\n          font-weight: 400;\r\n          overflow-wrap: anywhere;\r\n        }\r\n      }\r\n      .delete-btn {\r\n        position: absolute;\r\n        right: 5%;\r\n        top: 30%;\r\n        margin: 5px;\r\n        height: 16px;\r\n        width: 16px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweetsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTweetsList.vue?vue&type=template&id=d2fbb25c&scoped=true&\"\nimport script from \"./AdminTweetsList.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTweetsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminTweetsList.vue?vue&type=style&index=0&id=d2fbb25c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2fbb25c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div\r\n    id=\"infinite-list\"\r\n    ref=\"infinite_list\"\r\n    class=\"admin-tweets-wrapper row scrollbar\"\r\n  >\r\n    <div class=\"admin-nav-wrapper\">\r\n      <!-- 推文清單 -->\r\n      <router-link to=\"/admin/tweets\" class=\"nav\">\r\n        <img\r\n          v-if=\"$route.name === 'admin-tweets'\"\r\n          class=\"home-icon\"\r\n          src=\"~@/assets/image/home-orange.png\"\r\n          alt=\"home-icon\"\r\n        />\r\n        <img\r\n          v-else\r\n          class=\"home-icon\"\r\n          src=\"~@/assets/image/home.png\"\r\n          alt=\"home-icon\"\r\n        />\r\n      </router-link>\r\n      <!-- 使用者列表 -->\r\n      <router-link to=\"/admin/users\" class=\"nav\">\r\n        <img\r\n          v-if=\"$route.name === 'admin-users'\"\r\n          class=\"user-icon\"\r\n          src=\"~@/assets/image/user-orange.png\"\r\n          alt=\"user-icon\"\r\n        />\r\n        <img\r\n          v-else\r\n          class=\"user-icon\"\r\n          src=\"~@/assets/image/user.png\"\r\n          alt=\"user-icon\"\r\n        />\r\n      </router-link>\r\n      <button class=\"logout-btn\" @click=\"logout\">登出</button>\r\n    </div>\r\n    <Navbar\r\n      class=\"nav pl-0\"\r\n      :class=\"{ 'col-2': fullWidth > 574, 'd-none': fullWidth <= 574 }\"\r\n    />\r\n    <!-- <div>後台推文清單</div> -->\r\n    <Spinner\r\n      class=\"spinner\"\r\n      :class=\"{ 'col-10': fullWidth > 574 }\"\r\n      v-if=\"isLoading\"\r\n    />\r\n    <AdminTweetsList\r\n      v-else\r\n      class=\"admin-tweets-list\"\r\n      :class=\"{ 'col-10': fullWidth > 574 }\"\r\n      :initial-tweets=\"showTenTweets\"\r\n      @after-delete-tweet=\"afterTweetDelete\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"../components/Navbar.vue\";\r\nimport AdminTweetsList from \"./../components/AdminTweetsList.vue\";\r\nimport adminAPI from \"./../apis/admin\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\nimport Spinner from \"./../components/Spinner.vue\";\r\n\r\nexport default {\r\n  name: \"AdminTweets\",\r\n  components: {\r\n    Navbar,\r\n    AdminTweetsList,\r\n    Spinner,\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      role: \"\",\r\n      tweets: [],\r\n      showTenTweets: [],\r\n      pushIndex: 0,\r\n      loading: false,\r\n      isLoading: true,\r\n      fullWidth: 0,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchTweets();\r\n  },\r\n  mounted() {\r\n    this.fullWidth = window.innerWidth;\r\n    // window.onresize 及時監聽視窗大小\r\n    window.onresize = () => {\r\n      this.fullWidth = window.innerWidth;\r\n    };\r\n\r\n    // 瀑布\r\n    const listScroll = this.$refs.infinite_list;\r\n    listScroll.addEventListener(\"scroll\", () => {\r\n      const list = document.querySelector(\"#infinite-list\");\r\n      if (list.scrollTop + list.clientHeight + 1 >= list.scrollHeight) {\r\n        this.loadMore();\r\n      }\r\n    });\r\n  },\r\n  destroyed() {\r\n    // 元件銷毀要解綁事件\r\n    window.onresize = null;\r\n  },\r\n  methods: {\r\n    loadMore() {\r\n      if (this.showTenTweets.length >= this.tweets.length) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        for (let i = this.pushIndex; i < this.pushIndex + 10; i++) {\r\n          this.showTenTweets.push(this.tweets[i]);\r\n        }\r\n        this.pushIndex += 10;\r\n        this.loading = false;\r\n      }, 500);\r\n    },\r\n    async fetchTweets() {\r\n      try {\r\n        this.isLoading = true;\r\n        const { data } = await adminAPI.tweets.get();\r\n        if (data.status === \"error\") {\r\n          throw new Error(data.message);\r\n        }\r\n        this.tweets = data;\r\n        this.isLoading = false;\r\n        // 只撈 10 筆\r\n        for (let i = this.pushIndex; i < 10; i++) {\r\n          this.showTenTweets.push(this.tweets[i]);\r\n        }\r\n        this.pushIndex += 10;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        console.error(error.message);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得推文清單資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    // 刪除tweet\r\n    afterTweetDelete(tweetId) {\r\n      // 過濾掉要刪除的tweet\r\n      this.tweets = this.tweets.filter((tweet) => tweet.id !== tweetId);\r\n    },\r\n    logout() {\r\n      // 因為呼叫revokeAuthentication幫忙改state資料時, currentUser就會被清空, 先把role存起來, 以便等一下判別轉址到哪裡\r\n      this.role = this.currentUser.role;\r\n      this.$store.commit(\"revokeAuthentication\");\r\n      if (this.role === \"user\") {\r\n        // 使用者登出-> 前台登入頁\r\n        this.$router.push(\"/login\");\r\n      } else {\r\n        // 管理員登出-> 前台登入頁\r\n        this.$router.push(\"/admin/login\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"./../assets/application.scss\";\r\n.scrollbar {\r\n  &::-webkit-scrollbar {\r\n    width: 1px;\r\n  }\r\n}\r\n.admin-tweets-wrapper {\r\n  overflow-y: scroll;\r\n  max-height: 914px;\r\n  .admin-nav-wrapper {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    position: sticky;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 52px;\r\n    background: $white;\r\n    z-index: 1;\r\n    img {\r\n      width: 24px;\r\n      height: 24px;\r\n    }\r\n    .logout-btn {\r\n      &:hover {\r\n        color: #0062ff;\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n  .spinner {\r\n    width: 100%;\r\n  }\r\n  // .admin-tweets-list {\r\n  //   overflow-y: scroll;\r\n  //   max-height: 914px;\r\n  // }\r\n}\r\n@media screen and (min-width: 575px) {\r\n  .admin-tweets-wrapper {\r\n    .admin-nav-wrapper {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminTweets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminTweets.vue?vue&type=template&id=aeb3a17e&scoped=true&\"\nimport script from \"./AdminTweets.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminTweets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AdminTweets.vue?vue&type=style&index=0&id=aeb3a17e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aeb3a17e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}